<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>风沙危害性评估</title>
  <!-- 引入 ECharts 库 -->
  <script src="https://cdn.jsdelivr.net/npm/echarts@5.2.2/dist/echarts.min.js"></script>
  <!-- 引入数学公式美化插件 MathJax -->
<script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    showProcessingMessages: false, //关闭js加载过程信息
    messageStyle: "none", //不显示信息
    showMathMenu: false, //关闭右击菜单显示
    availableFonts: ["STIX", "TeX"], //可选字体
    jax: ["input/TeX", "output/HTML-CSS"],
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
    }
  });
</script>

  <style>
    /* 自定义 CSS 样式 */
    .chart {
      width: 540px;
      height: 350px;
      margin: 0 auto;
    }
    .video-background {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;
      object-fit: cover;
    }
    .paragraphs {
      text-align: center;
      color: white;
      font-size: 20px;
    }
    .highlight {
      font-weight: bold;
      font-style: italic;
      font-size: 30px;
    }
    .image-container img {
      width: 300px;
      height: auto;
    }
  </style>
</head>
<body>
  <video autoplay loop muted class="video-background">
    <source src="../image/background1.mp4" type="video/mp4">
    Your browser does not support the video tag.
  </video>

  <div class="paragraphs">
    <p>风沙对社会生活的各个方面都造成了影响，<span class="highlight">生活、农业、工业</span>，切实影响着我们每个人。</p>
    <div class="image-container">
      <img src="../image/live.png" alt="生活">
      <img src="../image/agriculture.png" alt="农业">
      <img src="../image/industry.png" alt="工业">
    </div>
    <p>一个地区的农业、工业和生活越发达，风沙对其带来的潜在危害也越大。</p>
    <p>我们利用2020年各市生产、农业工业总值进行了归一化处理，以评估风沙的危害性：</p>
    <p>归一化公式：<span class="highlight">\(x_i = \frac{{x - \text{min}(x)}}{{\text{max}(x) - \text{min}(x)}}\)</span></p>
    <p>加权公式：<span class="highlight">\(\text{sum} = ax_1 + bx_2 + cx_3\)</span></p>
  </div>
  <div class="map">
    <!-- 图表容器 -->
    <div class="chart"></div>
  </div>

  <!-- JavaScript 代码 -->
  <script>
    // 初始化 ECharts 图表
    document.addEventListener("DOMContentLoaded", function() {
      var myChart = echarts.init(document.querySelector('.map .chart'));
      var option = {
        tooltip: {
          trigger: 'item'
        },
        legend: {
          top: '5%',
          left: 'center'
        },
        series: [
          {
            name: 'proportion',
            type: 'pie',
            radius: ['40%', '70%'],
            avoidLabelOverlap: false,
            itemStyle: {
              borderRadius: 10,
              borderColor: '#fff',
              borderWidth: 2
            },
            label: {
              show: false,
              position: 'center'
            },
            emphasis: {
              label: {
                show: true,
                fontSize: 25,
                fontWeight: 'bold'
              }
            },
            labelLine: {
              show: false
            },
            data: [
              { value: 0.333, name: '生产总值' },
              { value: 0.333, name: '工业增加值' },
              { value: 0.333, name: '粮食总产量' },
            ]
          }
        ]
      };
      myChart.setOption(option);
    });
  </script>
</body>
</html>
